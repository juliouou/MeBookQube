{"generator":"Code Snippets v3.9.3","date_created":"2026-01-19 13:12","snippets":[{"id":17,"name":"Home","code":"add_shortcode( 'mebook_home_premium', 'funcion_home_premium_html' );\n\nfunction funcion_home_premium_html() {\n    global $wpdb;\n\n    \/\/ ============================================================\n    \/\/ 1. CONSULTAS SQL INTELIGENTES\n    \/\/ ============================================================\n\n    \/\/ A. \u00daLTIMOS 5 (Reci\u00e9n Agregados)\n    $recientes = $wpdb->get_results(\"SELECT * FROM libros WHERE disponibilidad = 'disponible' ORDER BY id DESC LIMIT 5\");\n\n    \/\/ B. CATEGOR\u00cdA POPULAR (Ej: Novela)\n    $cat_popular = 'Novela'; \n    $populares = $wpdb->get_results(\"SELECT * FROM libros WHERE disponibilidad = 'disponible' AND categorias LIKE '%$cat_popular%' LIMIT 6\");\n\n    \/\/ C. OFERTAS (Menos de 10 MeBokies)\n    $ofertas = $wpdb->get_results(\"SELECT * FROM libros WHERE disponibilidad = 'disponible' AND precio < 10 LIMIT 6\");\n\n\n    \/\/ ============================================================\n    \/\/ 2. ESTRUCTURA HTML + TAILWIND\n    \/\/ ============================================================\n    ob_start();\n    ?>\n    \n    <link href=\"https:\/\/fonts.googleapis.com\/css2?family=Lexend:wght@300;400;500;600;700;900&display=swap\" rel=\"stylesheet\"\/>\n    <link href=\"https:\/\/fonts.googleapis.com\/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap\" rel=\"stylesheet\"\/>\n    <script src=\"https:\/\/cdn.tailwindcss.com?plugins=forms,container-queries\"><\/script>\n    <script>\n        tailwind.config = {\n            darkMode: \"class\",\n            theme: {\n                extend: {\n                    colors: { \"primary\": \"#004c42\", \"primary-hover\": \"#003831\", \"background-light\": \"#f5f8f8\", \"text-main\": \"#101817\", \"text-secondary\": \"#5e8d87\" },\n                    fontFamily: { \"display\": [\"Lexend\", \"sans-serif\"] }\n                }\n            }\n        }\n    <\/script>\n    <style>.no-scrollbar::-webkit-scrollbar { display: none; } .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }<\/style>\n\n    <div class=\"bg-background-light font-display text-text-main w-full overflow-x-hidden\">\n\n        <div class=\"px-4 md:px-10 py-8 md:py-16\">\n            <div class=\"bg-white rounded-2xl p-6 md:p-12 overflow-hidden relative shadow-sm border border-[#f0f5f4]\">\n                <div class=\"flex flex-col md:flex-row gap-10 items-center\">\n                    <div class=\"flex-1 flex flex-col gap-6 z-10\">\n                        <div class=\"space-y-4\">\n                            <span class=\"inline-block px-3 py-1 rounded-full bg-primary\/10 text-primary text-xs font-bold uppercase tracking-wider\">Loja, Ecuador<\/span>\n                            <h1 class=\"text-4xl md:text-5xl lg:text-6xl font-black text-text-main leading-[1.1] tracking-tight\">\n                                Dale nueva vida a <br\/><span class=\"text-primary\">tus libros viejos.<\/span>\n                            <\/h1>\n                            <p class=\"text-text-secondary text-lg md:text-xl font-light max-w-lg leading-relaxed\">\n                                \u00danete a la comunidad de intercambio sostenible. Cambia tus libros le\u00eddos por \"MeBokies\" y descubre tu pr\u00f3xima aventura.\n                            <\/p>\n                        <\/div>\n                        <div class=\"flex flex-wrap gap-4 pt-2\">\n                            <a href=\"<?php echo home_url('\/tienda'); ?>\" class=\"h-12 px-8 rounded-xl bg-primary hover:bg-primary-hover text-white font-bold transition-colors shadow-lg shadow-primary\/20 flex items-center gap-2\">\n                                <span>Explorar Tienda<\/span>\n                                <span class=\"material-symbols-outlined text-sm\">arrow_forward<\/span>\n                            <\/a>\n                        <\/div>\n                        <div class=\"flex items-center gap-2 pt-4\">\n                             <p class=\"text-sm text-text-secondary font-medium pl-2\">MeBook<\/p>\n                        <\/div>\n                    <\/div>\n                    <div class=\"flex-1 w-full relative group\">\n                        <div class=\"absolute -inset-1 bg-gradient-to-r from-primary to-[#4dd0e1] rounded-[20px] blur opacity-25 group-hover:opacity-40 transition duration-1000 group-hover:duration-200\"><\/div>\n                        <div class=\"relative w-full aspect-[4\/3] bg-gray-100 rounded-xl overflow-hidden shadow-2xl\">\n                            <div class=\"w-full h-full bg-cover bg-center transform transition duration-700 hover:scale-105\" style='background-image: url(\"https:\/\/images.unsplash.com\/photo-1512820790803-83ca734da794?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80\");'><\/div>\n                        <\/div>\n                    <\/div>\n                <\/div>\n            <\/div>\n        <\/div>\n\n        <div class=\"px-4 md:px-10 py-10\">\n            <div class=\"text-center mb-12\">\n                <h2 class=\"text-3xl font-black text-text-main mb-4\">Tres pasos para cambiar<\/h2>\n                <p class=\"text-text-secondary\">Convierte tu estanter\u00eda en moneda virtual.<\/p>\n            <\/div>\n            <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <div class=\"bg-white p-6 rounded-xl border border-[#dae7e5] hover:border-primary\/30 transition-colors group\">\n                    <div class=\"w-12 h-12 rounded-lg bg-[#e0f2f1] flex items-center justify-center text-primary mb-4 group-hover:scale-110 transition-transform\"><span class=\"material-symbols-outlined\">upload_file<\/span><\/div>\n                    <h3 class=\"text-lg font-bold text-text-main mb-2\">1. Publica un Libro<\/h3>\n                    <p class=\"text-sm text-text-secondary\">Sube los detalles de los libros que ya le\u00edste.<\/p>\n                <\/div>\n                <div class=\"bg-white p-6 rounded-xl border border-[#dae7e5] hover:border-primary\/30 transition-colors group\">\n                    <div class=\"w-12 h-12 rounded-lg bg-[#e0f2f1] flex items-center justify-center text-primary mb-4 group-hover:scale-110 transition-transform\"><span class=\"material-symbols-outlined\">diamond<\/span><\/div>\n                    <h3 class=\"text-lg font-bold text-text-main mb-2\">2. Gana MeBokies<\/h3>\n                    <p class=\"text-sm text-text-secondary\">Recibe cr\u00e9ditos (\ud83d\udc8e) inmediatamente cuando alguien compra tu libro.<\/p>\n                <\/div>\n                <div class=\"bg-white p-6 rounded-xl border border-[#dae7e5] hover:border-primary\/30 transition-colors group\">\n                    <div class=\"w-12 h-12 rounded-lg bg-[#e0f2f1] flex items-center justify-center text-primary mb-4 group-hover:scale-110 transition-transform\"><span class=\"material-symbols-outlined\">menu_book<\/span><\/div>\n                    <h3 class=\"text-lg font-bold text-text-main mb-2\">3. Obt\u00e9n Nuevos<\/h3>\n                    <p class=\"text-sm text-text-secondary\">Gasta tus gemas en miles de t\u00edtulos de otros usuarios.<\/p>\n                <\/div>\n            <\/div>\n        <\/div>\n\n        <?php if (!empty($recientes)) : ?>\n        <div class=\"px-4 md:px-10 pt-10 pb-4 flex items-end justify-between\">\n            <div>\n                <h2 class=\"text-2xl font-bold text-text-main\">\ud83c\udd95 Reci\u00e9n Llegados<\/h2>\n                <p class=\"text-sm text-text-secondary mt-1\">Acabados de subir por tus vecinos.<\/p>\n            <\/div>\n            <a class=\"hidden sm:flex items-center text-primary font-bold text-sm hover:underline\" href=\"<?php echo home_url('\/tienda'); ?>?orden=recientes\">Ver Todos <span class=\"material-symbols-outlined text-sm ml-1\">arrow_forward<\/span><\/a>\n        <\/div>\n        <div class=\"px-4 md:px-10 pb-16\">\n            <div class=\"flex overflow-x-auto gap-5 pb-8 pt-2 -mx-4 md:mx-0 px-4 md:px-0 no-scrollbar snap-x snap-mandatory\">\n                <?php foreach($recientes as $libro) { imprimir_tarjeta_home($libro); } ?>\n            <\/div>\n        <\/div>\n        <?php endif; ?>\n\n        <?php if (!empty($populares)) : ?>\n        <div class=\"px-4 md:px-10 pt-4 pb-4 flex items-end justify-between border-t border-gray-100 pt-10\">\n            <div>\n                <h2 class=\"text-2xl font-bold text-text-main\">\ud83d\udd25 Categor\u00eda Popular: <?php echo $cat_popular; ?><\/h2>\n                <p class=\"text-sm text-text-secondary mt-1\">Las historias que todos buscan.<\/p>\n            <\/div>\n            <a class=\"hidden sm:flex items-center text-primary font-bold text-sm hover:underline\" href=\"<?php echo home_url('\/tienda'); ?>?categoria=<?php echo $cat_popular; ?>\">Ver M\u00e1s <span class=\"material-symbols-outlined text-sm ml-1\">arrow_forward<\/span><\/a>\n        <\/div>\n        <div class=\"px-4 md:px-10 pb-16\">\n            <div class=\"flex overflow-x-auto gap-5 pb-8 pt-2 -mx-4 md:mx-0 px-4 md:px-0 no-scrollbar snap-x snap-mandatory\">\n                <?php foreach($populares as $libro) { imprimir_tarjeta_home($libro); } ?>\n            <\/div>\n        <\/div>\n        <?php endif; ?>\n\n        <?php if (!empty($ofertas)) : ?>\n        <div class=\"bg-[#e0f7fa]\/30 py-10 mb-10\">\n            <div class=\"px-4 md:px-10 pb-4 flex items-end justify-between\">\n                <div>\n                    <h2 class=\"text-2xl font-bold text-primary\">\ud83d\udc8e Ofertas Imperdibles<\/h2>\n                    <p class=\"text-sm text-text-secondary mt-1\">Libros por menos de 10 MeBokies.<\/p>\n                <\/div>\n                <a class=\"hidden sm:flex items-center text-primary font-bold text-sm hover:underline\" href=\"<?php echo home_url('\/tienda'); ?>?orden=precio_asc\">Ver Ofertas <span class=\"material-symbols-outlined text-sm ml-1\">arrow_forward<\/span><\/a>\n            <\/div>\n            <div class=\"px-4 md:px-10\">\n                <div class=\"flex overflow-x-auto gap-5 pb-8 pt-2 -mx-4 md:mx-0 px-4 md:px-0 no-scrollbar snap-x snap-mandatory\">\n                    <?php foreach($ofertas as $libro) { imprimir_tarjeta_home($libro); } ?>\n                <\/div>\n            <\/div>\n        <\/div>\n        <?php endif; ?>\n\n    <\/div>\n    <?php\n    return ob_get_clean();\n}\n\n\/\/ FUNCI\u00d3N AUXILIAR PARA DIBUJAR LA TARJETA (Evita repetir c\u00f3digo)\nfunction imprimir_tarjeta_home($libro) {\n    \/\/ Parche Imagen\n    $img = $libro->imagen;\n    if ( strpos($img, 'wp-content') !== false ) {\n        $partes = explode('\/wp-content\/', $img);\n        if ( count($partes) > 1 ) $img = get_home_url() . '\/wp-content\/' . $partes[1];\n    }\n    ?>\n    <a href=\"<?php echo home_url('\/detalle-libro\/'); ?>?id_libro=<?php echo $libro->id; ?>\" class=\"min-w-[180px] md:min-w-[220px] snap-start group cursor-pointer block\">\n        <div class=\"relative w-full aspect-[2\/3] rounded-xl overflow-hidden mb-3 shadow-md group-hover:shadow-xl transition-all group-hover:-translate-y-1 bg-white\">\n            <div class=\"absolute inset-0 bg-cover bg-center transition-transform duration-500 group-hover:scale-105\" style='background-image: url(\"<?php echo esc_url($img); ?>\");'><\/div>\n            <div class=\"absolute top-2 right-2 bg-white\/95 backdrop-blur-sm px-2 py-1 rounded-lg shadow-sm flex items-center gap-1 border border-gray-100\">\n                <span class=\"text-xs font-bold text-text-main\"><?php echo number_format($libro->precio,0); ?><\/span>\n                <span class=\"text-[10px]\">\ud83d\udc8e<\/span>\n            <\/div>\n            <?php if($libro->precio < 10): ?>\n                <div class=\"absolute bottom-2 left-2 bg-red-500 text-white px-2 py-0.5 rounded text-[10px] font-bold shadow-sm\">OFERTA<\/div>\n            <?php endif; ?>\n        <\/div>\n        <h3 class=\"font-bold text-text-main truncate text-base\"><?php echo esc_html($libro->titulo); ?><\/h3>\n        <p class=\"text-sm text-text-secondary truncate\"><?php echo esc_html($libro->autor); ?><\/p>\n    <\/a>\n    <?php\n}","active":true,"modified":"2026-01-12 16:10:15","revision":"1"}]}
